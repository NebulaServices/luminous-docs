import { ImageResponse } from "next/og";
import type { NextRequest } from "next/server";
// edging
export const runtime = "edge";

export async function GET(request: NextRequest) {
  const title = request.nextUrl.searchParams.get("title");
  const inter = fetch(new URL("./inter.woff", import.meta.url)).then((res) =>
    res.arrayBuffer()
  );
  return new ImageResponse(
    (
      <div
        tw="h-full w-full flex items-center justify-center text-[#e4e4e7] flex-col"
        style={{ backgroundColor: "#191724" }}
      >
        <img
          width="192"
          height="192"
          tw="mb-8"
          alt=""
          src={
            "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMiIgdmlld0JveD0iMCAwIDQwMCA0MDAiPgogIDxwYXRoIGZpbGw9IiM1ZTE3ZWIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTIxMy42IDg0YzEgLjMgMy40LjcgNS4xIDEgMS44LjIgNC4xLjcgNS4yIDEgMTMuMiA0LjEgMjAuMyA2LjggMjQuNSA5LjEuNi4zIDIuMyAxLjIgMy44IDIgMi44IDEuNCAxMy4xIDggMTQuNCA5LjIuNS4zIDIuMyAxLjkgNC4yIDMuNSA2LjcgNS41IDE1LjUgMTQuOSAxOS4yIDIwLjQgMSAxLjQgMiAyLjcgMi4yIDIuOC4zLjEuNS41LjUuOCAwIC4zIDEuMiAyLjIgMi41IDQuMyAyLjMgMy40IDcuOCAxNC4zIDkuOCAxOS4zLjggMi4xLjkgMi4yIDEwIDQuOSA1LjYgMS42IDExLjEgMy40IDExLjcgMy44LjMuMiAyLjQgMS4xIDQuNyAxLjkgMTEuMSA0LjEgMjMgMTIuNSAyNy4zIDE5LjQgNS41IDguNyAzLjYgMjAuNS00LjUgMjguNS0zLjEgMy03LjUgNi40LTguNCA2LjQtLjMgMC0uNy4yLS44LjUtMS4xIDIuMy0yMy4zIDExLjItMzUuOSAxNC4zLTMuMi45LTMuNSAxLjItNS43IDYuOC03LjUgMTktMjUuNSA0MC42LTQyLjMgNTEuMS0xLjYgMS0zLjEgMi0zLjMgMi4yLS4xLjItLjkuNy0xLjcgMS4yLS44LjQtMi4yIDEuMi0yLjkgMS42LS44LjQtMS42IDEtMS44IDEuMS0uNS41LTQuMSAyLjItOC4xIDMuOS0xLjguOC0zLjggMS42LTQuNSAyLS43LjMtMy4xIDEuMS01LjIgMS44LTguMyAyLjYtOS44IDMtMjEgNC45LTYuNCAxLjEtMjUuMyAxLjMtMzAuNS4zLTEuOS0uMy01LjgtMS4xLTguNi0xLjYtNi44LTEuMy0xMi43LTMtMjAtNS43LTMuMy0xLjItMTgtOC44LTE5LjctMTAuMS0uOS0uNy00LjEtMy4xLTcuMS01LjItNS43LTQuMS0xNy45LTE1LjktMjAuNy0yMC0uOS0xLjItMi0yLjctMi41LTMuMi0zLjItMy4zLTEzLjctMjEuNy0xMy43LTI0LjEgMC0uNi0uMi0xLjItLjYtMS40LS4zLS4yLS44LTEuMi0xLTIuMy0uNC0xLjktMS43LTIuNy02LjUtMy44LTIzLjItNS42LTQzLjEtMTcuMi00OC42LTI4LjUtNy4xLTE0LjQgNC41LTMxLjMgMjcuMy0zOS43IDEuOC0uNyA0LjEtMS42IDUuMi0yIDMuNy0xLjUgOC0yLjkgMTkuNS02LjIgMS42LS41IDIuOC0xLjIgMi44LTEuNyAwLTIuNCA5LjgtMjEuNiAxMy4xLTI1LjcuMi0uNCAxLjQtMS44IDIuNS0zLjIgMTMuOC0xOC4xIDMwLjItMzAuNiA1MC42LTM4LjggNC4zLTEuNyA2LTIuMyAxNC4zLTQuNSA1LjUtMS42IDExLjItMi40IDE4LjQtMi45IDcuOS0uNSAyNC0uMiAyNi44LjZ6bS0yOS43IDE3LjNjLS4yLjEtNy4zIDEuNy0xMi45IDIuNy0xLjcuNC00LjMgMS4yLTUuOCAxLjktMS41LjYtMy45IDEuNS01LjUgMi0xLjUuNC0zLjMgMS4zLTQgMi0uNy43LTEuNyAxLjItMi4zIDEuMi0xLjIgMC05LjUgNC41LTkuOCA1LjMtLjIuMy0uNS42LS45LjYtMS45IDAtMTkuNiAxNi0yMy44IDIxLjYtOS4zIDEyLjItMTYuMSAyNy40LTE5LjIgNDIuNy0yIDEwLjEtMS4xIDM3LjUgMS40IDQxLjQgMCAuMSAzLjcuOSA4LjEgMS44IDkuNSAxLjkgMTIuOCAyLjQgMzQuNiA0LjkgMzguNSA0LjUgMTA3LjkgMi4yIDEzOC4zLTQuNSAxLjQtLjMgNC4xLS45IDYuMS0xLjMgNC4yLS44IDMuNC4yIDQuOS03LjEgMS42LTguMyAxLjctMjcgLjEtMzQuNi0xLjUtNy4xLTMuMi0xMy40LTMuNy0xNC4yLS4zLS40LS43LTEuNS0uOS0yLjYtMi44LTEyLjEtMTkuMi0zNC4xLTMzLTQ0LjMtMi45LTIuMS01LjUtNC01LjgtNC4zLTIuOC0yLjItNC45LTMuMS03LjItMy4xLTIuMSAwLTIuNi0uMi0yLjctMS4zLS4yLTEuNS01LjctNC41LTYuMy0zLjUtLjcgMS4xLTIuNC42LTIuNy0uNy0uNC0xLjMtMS4yLTEuNi01LjgtMi4xLTEuNi0uMi00LS45LTUuNS0xLjYtMy45LTEuOC01LjMtMi4yLTEwLjItMi42LTQuNi0uNC0yNS4yLS43LTI1LjUtLjN6bTc0LjMgNDIuMmM3LjQgOS44IDQuOCAyMy41LTQuNiAyNC45LTYuOSAxLTIwLjktNS44LTIxLTEwLjIgMC0uMi0uMy0uOC0uOC0xLjMtNi40LTYuOC01LTIwLjggMi40LTI0LjEgNi43LTIuOSAxNy4yIDEuOCAyNCAxMC43ek04MS44IDE3OS45Yy0uMS0uMS00LjYgMS4xLTUuOSAxLjYtLjcuMy0zIDEuMi01LjEgMi05LjkgMy44LTE1LjEgNi44LTE5LjYgMTEuNS0zLjQgMy41LTMuMyA0LjUuNSA4LjcgMSAxIDExLjMgNy42IDEyIDcuNi4yIDAgMS43LjYgMy40IDEuMyAxLjYuOCAzLjYgMS42IDQuMyAxLjkgMS44LjggOS4zIDMuMyA5LjkgMy4zLjMgMCAuMy0yIDAtNC40LS42LTUuNi0uNi0yNC41LjEtMjkuNi4zLTIuMS41LTMuOS40LTMuOXptMjI5LjMtLjNjLS4yIDAgMCAxIC4yIDIuMS42IDIuOC42IDMxLjMgMCAzNC0uNSAyLjItLjQgMi4yIDEuMyAxLjggMy4xLS43IDEyLjktNC41IDE4LjMtNyA4LjUtNCAxNC4zLTEwLjEgMTIuNi0xMy4zLTEuMS0yLjEtNi43LTcuMi03LjktNy4yLS40IDAtLjktLjItMS0uNS0uNC0xLjEtMTEuOC02LjEtMTkuMi04LjUtMi4zLS43LTQuMi0xLjQtNC4zLTEuNHpNMTExLjcgMjQzbC0zLjEtLjQgMS44IDMuMmMuOSAxLjggMS45IDMuNCAyLjIgMy41LjMuMS41LjYuNSAxLjEgMCAuNC42IDEuNSAxLjMgMi4zLjcuOSAxLjUgMS45IDEuOCAyLjIuMy40LjggMS4yIDEuMSAxLjcgNi4yIDEwLjcgMzUuNiAzMy41IDQzLjMgMzMuNS4yIDAgMS4zLjQgMi41LjkgMi41IDEuMiAxMC42IDMuNCAxNS4zIDQuMiA5LjUgMS44IDExLjYgMi4xIDE3LjQgMi4xIDYuNiAwIDE2LjQtMS4zIDIyLjktMyAyLjItLjUgNS4yLTEuMyA2LjgtMS43IDEuNi0uMyAzLjItLjkgMy41LTEuMi40LS4zIDEuMS0uNiAxLjYtLjYgMi4zIDAgMjItMTAuNiAyNC0xMi45LjItLjIgMi4yLTEuOSA0LjUtMy43IDUuNy00LjUgMTEuOC0xMSAxNy4xLTE4LjQgMS42LTIuMyAzLjItNC41IDMuNi00LjkuNC0uNC43LTEgLjctMS4yIDAtLjIuOC0xLjkgMS45LTMuNiAxLjEtMS43IDEuOS0zLjIgMS45LTMuNCAwLS4yLTMuOC40LTExIDEuNi0zMS43IDUuNC04NS4xIDYuNy0xMjYuOSAzLjEtOS42LS44LTIzLjEtMi4zLTI3LjgtMy4yLTIuMi0uNC01LjMtLjktNi45LTEuMnoiLz4KPC9zdmc+"
          }
        />
        <p tw="text-4xl text-[#e0def4]">{title}</p>
      </div>
    ),
    {
      width: 1200,
      height: 630,
      fonts: [{ name: "Inter", data: await inter, weight: 300 }],
    }
  );
}
